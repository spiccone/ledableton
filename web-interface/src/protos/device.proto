syntax = "proto3";
package devicepackage;

message Device {
  string name = 1;
  Type type = 2;
}

message Type {
  oneof type {
    Strip strip = 1;
    Arc arc = 2;
    Grid grid = 3;
    BucketedGrid bucketed_grid = 4;
    BucketedVariableColumnGrid bucketed_variable_grid = 5;
  }
}

enum Unit {
  MM = 0;
  IN = 1;
}

message Dimension {
  Unit unit = 1;
  float dimension = 2;
}

message Strip {
  int32 leds = 1;
  Dimension spacing = 2;
}

message Arc {
  int32 leds = 1;
  Dimension radius = 2;
  oneof dimension {
    Dimension arc_length = 3;
    uint32 angle = 4;
    Dimension chord_length = 5;
  }
}

message Grid {
  int32 rows = 1;
  int32 columns = 2;
  Dimension row_spacing = 3;
  Dimension column_spacing = 4;
}

message BucketedGrid {
  int32 rows = 1;
  int32 columns = 2;
  Dimension row_spacing = 3;
  Dimension column_spacing = 4;
  Type bucket_type = 5;
}

message BucketedVariableColumnGrid {
  message VariableColumn {
    repeated uint32 column_spacing = 1;
  }
  Unit unit = 1;
  repeated uint32 row_spacing = 2;
  repeated VariableColumn columns = 3;
  Type bucket_type = 4;
}
